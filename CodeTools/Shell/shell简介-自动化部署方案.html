<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vue/react项目中不可忽视的自动化部署方案 | 余生的前端笔记本</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="shortcut icon" href="favicon.ico">
    <meta name="description" content="记录平凡">
    <link rel="preload" href="/xn213/assets/css/0.styles.ca63e153.css" as="style"><link rel="preload" href="/xn213/assets/js/app.d4906252.js" as="script"><link rel="preload" href="/xn213/assets/js/2.51fac5b8.js" as="script"><link rel="preload" href="/xn213/assets/js/28.deb79169.js" as="script"><link rel="prefetch" href="/xn213/assets/js/10.1faf398f.js"><link rel="prefetch" href="/xn213/assets/js/100.7a74ebc8.js"><link rel="prefetch" href="/xn213/assets/js/101.4f40be2a.js"><link rel="prefetch" href="/xn213/assets/js/102.c8d7cea6.js"><link rel="prefetch" href="/xn213/assets/js/103.270122d2.js"><link rel="prefetch" href="/xn213/assets/js/104.d4a4e842.js"><link rel="prefetch" href="/xn213/assets/js/105.3f397b90.js"><link rel="prefetch" href="/xn213/assets/js/106.918e93a8.js"><link rel="prefetch" href="/xn213/assets/js/107.bed93497.js"><link rel="prefetch" href="/xn213/assets/js/108.8560db9a.js"><link rel="prefetch" href="/xn213/assets/js/109.3d45cd73.js"><link rel="prefetch" href="/xn213/assets/js/11.6bf048df.js"><link rel="prefetch" href="/xn213/assets/js/110.1a0c24e2.js"><link rel="prefetch" href="/xn213/assets/js/111.3fecca9a.js"><link rel="prefetch" href="/xn213/assets/js/112.4acafde9.js"><link rel="prefetch" href="/xn213/assets/js/113.0138919a.js"><link rel="prefetch" href="/xn213/assets/js/114.b6f3a7bb.js"><link rel="prefetch" href="/xn213/assets/js/115.03d6018c.js"><link rel="prefetch" href="/xn213/assets/js/116.9da7bcd2.js"><link rel="prefetch" href="/xn213/assets/js/117.b00f571c.js"><link rel="prefetch" href="/xn213/assets/js/118.805693d4.js"><link rel="prefetch" href="/xn213/assets/js/12.1366bf4e.js"><link rel="prefetch" href="/xn213/assets/js/13.8469840d.js"><link rel="prefetch" href="/xn213/assets/js/14.476bf2b4.js"><link rel="prefetch" href="/xn213/assets/js/15.73262e19.js"><link rel="prefetch" href="/xn213/assets/js/16.a84e4240.js"><link rel="prefetch" href="/xn213/assets/js/17.3be54d85.js"><link rel="prefetch" href="/xn213/assets/js/18.500d10d8.js"><link rel="prefetch" href="/xn213/assets/js/19.8474792d.js"><link rel="prefetch" href="/xn213/assets/js/20.c4c313bc.js"><link rel="prefetch" href="/xn213/assets/js/21.b0881497.js"><link rel="prefetch" href="/xn213/assets/js/22.d5268e49.js"><link rel="prefetch" href="/xn213/assets/js/23.58ca6578.js"><link rel="prefetch" href="/xn213/assets/js/24.a3e7d50c.js"><link rel="prefetch" href="/xn213/assets/js/25.16abe053.js"><link rel="prefetch" href="/xn213/assets/js/26.86c0a1e4.js"><link rel="prefetch" href="/xn213/assets/js/27.7030e691.js"><link rel="prefetch" href="/xn213/assets/js/29.6eaaf04b.js"><link rel="prefetch" href="/xn213/assets/js/3.b7850748.js"><link rel="prefetch" href="/xn213/assets/js/30.2506a5c4.js"><link rel="prefetch" href="/xn213/assets/js/31.26cfc1d9.js"><link rel="prefetch" href="/xn213/assets/js/32.0a4b2fe0.js"><link rel="prefetch" href="/xn213/assets/js/33.36d9b152.js"><link rel="prefetch" href="/xn213/assets/js/34.2b9dc880.js"><link rel="prefetch" href="/xn213/assets/js/35.2567933d.js"><link rel="prefetch" href="/xn213/assets/js/36.23821499.js"><link rel="prefetch" href="/xn213/assets/js/37.46a4d915.js"><link rel="prefetch" href="/xn213/assets/js/38.78a550d5.js"><link rel="prefetch" href="/xn213/assets/js/39.d61eb27d.js"><link rel="prefetch" href="/xn213/assets/js/4.7e99a2d3.js"><link rel="prefetch" href="/xn213/assets/js/40.933a08eb.js"><link rel="prefetch" href="/xn213/assets/js/41.a470035a.js"><link rel="prefetch" href="/xn213/assets/js/42.fc89c186.js"><link rel="prefetch" href="/xn213/assets/js/43.15247d93.js"><link rel="prefetch" href="/xn213/assets/js/44.ab9e5f68.js"><link rel="prefetch" href="/xn213/assets/js/45.d347fb15.js"><link rel="prefetch" href="/xn213/assets/js/46.3dbf0169.js"><link rel="prefetch" href="/xn213/assets/js/47.bc6372ae.js"><link rel="prefetch" href="/xn213/assets/js/48.a455dd6a.js"><link rel="prefetch" href="/xn213/assets/js/49.42512fc4.js"><link rel="prefetch" href="/xn213/assets/js/5.9753c03c.js"><link rel="prefetch" href="/xn213/assets/js/50.d154eba7.js"><link rel="prefetch" href="/xn213/assets/js/51.615c6988.js"><link rel="prefetch" href="/xn213/assets/js/52.826146fc.js"><link rel="prefetch" href="/xn213/assets/js/53.86dca864.js"><link rel="prefetch" href="/xn213/assets/js/54.5537cce4.js"><link rel="prefetch" href="/xn213/assets/js/55.7e134c54.js"><link rel="prefetch" href="/xn213/assets/js/56.84100376.js"><link rel="prefetch" href="/xn213/assets/js/57.6b67fd76.js"><link rel="prefetch" href="/xn213/assets/js/58.9b9f3130.js"><link rel="prefetch" href="/xn213/assets/js/59.f3e68bcf.js"><link rel="prefetch" href="/xn213/assets/js/6.a4f112fa.js"><link rel="prefetch" href="/xn213/assets/js/60.a4243a5c.js"><link rel="prefetch" href="/xn213/assets/js/61.29628b38.js"><link rel="prefetch" href="/xn213/assets/js/62.3f0b67b9.js"><link rel="prefetch" href="/xn213/assets/js/63.910061cb.js"><link rel="prefetch" href="/xn213/assets/js/64.48d637e0.js"><link rel="prefetch" href="/xn213/assets/js/65.a11ce1db.js"><link rel="prefetch" href="/xn213/assets/js/66.c7d82608.js"><link rel="prefetch" href="/xn213/assets/js/67.ee9cd709.js"><link rel="prefetch" href="/xn213/assets/js/68.37ca6255.js"><link rel="prefetch" href="/xn213/assets/js/69.fb07e58e.js"><link rel="prefetch" href="/xn213/assets/js/7.f165d4ad.js"><link rel="prefetch" href="/xn213/assets/js/70.c6515a0e.js"><link rel="prefetch" href="/xn213/assets/js/71.c6d65667.js"><link rel="prefetch" href="/xn213/assets/js/72.edd126d5.js"><link rel="prefetch" href="/xn213/assets/js/73.c8230ab6.js"><link rel="prefetch" href="/xn213/assets/js/74.9169bdfa.js"><link rel="prefetch" href="/xn213/assets/js/75.7f969006.js"><link rel="prefetch" href="/xn213/assets/js/76.7f70450f.js"><link rel="prefetch" href="/xn213/assets/js/77.84b9567f.js"><link rel="prefetch" href="/xn213/assets/js/78.ec259083.js"><link rel="prefetch" href="/xn213/assets/js/79.0f38cf96.js"><link rel="prefetch" href="/xn213/assets/js/8.93badb4c.js"><link rel="prefetch" href="/xn213/assets/js/80.00d59f1a.js"><link rel="prefetch" href="/xn213/assets/js/81.296081e7.js"><link rel="prefetch" href="/xn213/assets/js/82.1a7bb394.js"><link rel="prefetch" href="/xn213/assets/js/83.49934a5f.js"><link rel="prefetch" href="/xn213/assets/js/84.8302d481.js"><link rel="prefetch" href="/xn213/assets/js/85.5b6eca11.js"><link rel="prefetch" href="/xn213/assets/js/86.9cd3ce36.js"><link rel="prefetch" href="/xn213/assets/js/87.909f3fbe.js"><link rel="prefetch" href="/xn213/assets/js/88.97d3b017.js"><link rel="prefetch" href="/xn213/assets/js/89.eb9b8edc.js"><link rel="prefetch" href="/xn213/assets/js/9.48527424.js"><link rel="prefetch" href="/xn213/assets/js/90.81ddc649.js"><link rel="prefetch" href="/xn213/assets/js/91.ea383d56.js"><link rel="prefetch" href="/xn213/assets/js/92.31ffb78c.js"><link rel="prefetch" href="/xn213/assets/js/93.6f5a3c6c.js"><link rel="prefetch" href="/xn213/assets/js/94.3092c543.js"><link rel="prefetch" href="/xn213/assets/js/95.1396fb1e.js"><link rel="prefetch" href="/xn213/assets/js/96.d7c769c9.js"><link rel="prefetch" href="/xn213/assets/js/97.5c6b604b.js"><link rel="prefetch" href="/xn213/assets/js/98.417f15c6.js"><link rel="prefetch" href="/xn213/assets/js/99.c8d339c0.js">
    <link rel="stylesheet" href="/xn213/assets/css/0.styles.ca63e153.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/xn213/" class="home-link router-link-active"><!----> <span class="site-name">余生的前端笔记本</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/xn213/Computer/" class="nav-link">
  计算机
</a></div><div class="nav-item"><a href="/xn213/Frontend/" class="nav-link">
  大前端
</a></div><div class="nav-item"><a href="/xn213/Notes/" class="nav-link">
  Notes
</a></div><div class="nav-item"><a href="/xn213/Interview/" class="nav-link">
  Interview
</a></div><div class="nav-item"><a href="/xn213/JS/" class="nav-link">
  JS
</a></div><div class="nav-item"><a href="/xn213/CSS/" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/xn213/Vue/VueBasic/VueRespond.html" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/xn213/React/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/xn213/CodeTools/VSCode/VSCodeVue.html" class="nav-link">
  CodeTools
</a></div><div class="nav-item"><a href="/xn213/DZH/Explain.html" class="nav-link">
  大杂烩
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/xn213/Computer/" class="nav-link">
  计算机
</a></div><div class="nav-item"><a href="/xn213/Frontend/" class="nav-link">
  大前端
</a></div><div class="nav-item"><a href="/xn213/Notes/" class="nav-link">
  Notes
</a></div><div class="nav-item"><a href="/xn213/Interview/" class="nav-link">
  Interview
</a></div><div class="nav-item"><a href="/xn213/JS/" class="nav-link">
  JS
</a></div><div class="nav-item"><a href="/xn213/CSS/" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/xn213/Vue/VueBasic/VueRespond.html" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/xn213/React/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/xn213/CodeTools/VSCode/VSCodeVue.html" class="nav-link">
  CodeTools
</a></div><div class="nav-item"><a href="/xn213/DZH/Explain.html" class="nav-link">
  大杂烩
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>VSCode</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/xn213/CodeTools/VSCode/VSCodeVue.html" class="sidebar-link">VS Code开发 Vue 应用</a></li><li><a href="/xn213/CodeTools/VSCode/VSCode.html" class="sidebar-link">Visual Studio Code, 真棒!</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Chrome</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Github</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>VuePress</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Markdown</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue-react项目中不可忽视的自动化部署方案"><a href="#vue-react项目中不可忽视的自动化部署方案" class="header-anchor">#</a> vue/react项目中不可忽视的自动化部署方案</h1> <p><img src="http://c.biancheng.net/uploads/allimg/190422/1-1Z4221K20V94.gif" alt=""></p> <p>本文主要介绍shell脚本的一些基本用法以及在前端项目中的应用。将围绕以下几点来展开：</p> <ol><li>shell基本用法（变量，循环，传参，运算符，流程控制等）</li> <li>使用shell脚本自动将项目打包部署到git服务器</li> <li>使用nodeJs编写命令行工具</li></ol> <h3 id="_1-shell基本介绍及用法"><a href="#_1-shell基本介绍及用法" class="header-anchor">#</a> 1. shell基本介绍及用法</h3> <blockquote><p>Shell 是一个用 C 语言编写的程序，它是用户使用 Linux 的桥梁，业界所说的 shell 通常都是指 shell 脚本，Shell 编程跟 java、php 编程一样，只要有一个能编写代码的文本编辑器和一个能解释执行的脚本解释器就可以了。Linux 的 Shell 种类众多，在这里我们介绍一种常用且开源免费的shell——bash。</p></blockquote> <ol><li>Shell 变量</li></ol> <p>变量声明如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>time<span class="token operator">=</span><span class="token number">10</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>注：变量名和等号之间不能有空格，变量名命名规则如下：</p> <ul><li>命名只能使用英文字母，数字和下划线，首个字符不能以数字开头。</li> <li>中间不能有空格，可以使用下划线（_）。</li> <li>不能使用标点符号。</li> <li>不能使用bash里的关键字（可用help命令查看保留关键字）</li></ul> <p>我们可以通过如下方式使用变量：</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">&quot;xn213&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$name</span>
<span class="token comment"># 或者这样</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${name}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>我们能使用如下方式删除变量：</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token builtin class-name">unset</span> name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>关于shell变量的更多用法，可以参考linux官网，这里就不过多介绍了。</p> <ol><li>Shell 传递参数</li></ol> <blockquote><p>我们可以在执行 Shell 脚本时，向脚本传递参数，脚本内获取参数的格式为：$n。n 代表一个数字，1 为执行脚本的第一个参数，2 为执行脚本的第二个参数，以此类推,其中 $0 为执行的文件名</p></blockquote> <p>使用如下：</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;文件名：<span class="token variable">$0</span>&quot;</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;参数一：<span class="token variable">$1</span>&quot;</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;参数二：<span class="token variable">$2</span>&quot;</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;参数三：<span class="token variable">$3</span>&quot;</span><span class="token punctuation">;</span>
<span class="token comment"># 输出</span>
文件名：./test.sh
参数一：1
参数二：2
参数三：3
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ol><li>Shell 数组</li></ol> <p>Bash Shell 只支持一维数组，数组元素的下标由0开始。Shell 数组用括号来表示，元素用&quot;空格&quot;符号分割开，例如：</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token assign-left variable">names</span><span class="token operator">=</span><span class="token punctuation">(</span>name1 <span class="token punctuation">..</span>. namen<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>我们可以通过如下方式读取数组：</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token variable">${names<span class="token punctuation">[</span>0<span class="token punctuation">]</span>}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>我们可以使用@ 或 * 可以获取数组中的所有元素，例如：</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;数组的元素为: <span class="token variable">${nsmes<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span>&quot;</span>
<span class="token comment"># 输出为</span>
数组的元素为: A B C D
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol><li>Shell 基本运算符</li></ol> <p>Shell支持多种运算符，如下：</p> <ul><li>算数运算符</li> <li>关系运算符</li> <li>布尔运算符</li> <li>字符串运算符</li> <li>文件测试运算符</li></ul> <p>原生bash不支持简单的数学运算，但是可以通过其他命令来实现，这里我们使用expr。它是一款表达式计算工具，使用它能完成表达式的求值操作。
例如：</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">total</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> <span class="token number">2</span> + <span class="token number">2</span><span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;两数之和为 : <span class="token variable">$total</span>&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>注：这里我们使用反引号``。由于命令行工具这块用的比较少，如果感兴趣，大家可以去官网了解学习。</p> <ol><li>Shell echo命令</li></ol> <p>Shell 的 echo 指令与 PHP 的 echo 指令类似，都是用于字符串的输出，这里我们着重介绍与用户交互的输入输出。</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/sh</span>
<span class="token builtin class-name">read</span> name 
<span class="token builtin class-name">echo</span> <span class="token string">&quot;hello <span class="token variable">$name</span>&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>read 命令从标准输入中读取一行,并把输入行的每个字段的值指定给 shell 变量。当我们执行脚本后，输入一个自定义名称，按下回车将输出 'hello xxx',我们是不是想到了vue脚手架中的一些命令呢，是的，我们可以用这个方法去实现自己的脚手架配置或者自动生成项目模版。</p> <p>我们也可以用echo将显示结果定向至文件：</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;It is mine&quot;</span> <span class="token operator">&gt;</span> test.js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>执行 这个文件后将为我们创建一个test.js文件，并将输出内容写入test.js。</p> <ol><li>Shell test 命令</li></ol> <p>test 命令用于检查某个条件是否成立，它可以进行数值、字符和文件三个方面的测试。</p> <p>数值测试：</p> <ul><li>-eq 等于则为真</li> <li>-ne	不等于则为真</li> <li>-gt	大于则为真</li> <li>-ge	大于等于则为真</li> <li>-lt	小于则为真</li> <li>-le	小于等于则为真</li></ul> <p>使用方式如下：</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token assign-left variable">name1</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">name2</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token keyword">if</span> <span class="token builtin class-name">test</span> $<span class="token punctuation">[</span>name1<span class="token punctuation">]</span> -eq $<span class="token punctuation">[</span>name2<span class="token punctuation">]</span>
<span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">'相等！'</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">'不相等！'</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>运行脚本后将输出'相等!'。</p> <p>字符串测试：</p> <ul><li>=	等于则为真</li> <li>!=	不相等则为真</li> <li>-z 字符串	字符串的长度为零则为真</li> <li>-n 字符串	字符串的长度不为零则为真</li></ul> <p>例如：</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token assign-left variable">name1</span><span class="token operator">=</span><span class="token string">&quot;xu&quot;</span>
<span class="token assign-left variable">name2</span><span class="token operator">=</span><span class="token string">&quot;xu&quot;</span>
<span class="token keyword">if</span> <span class="token builtin class-name">test</span> <span class="token variable">$name1</span> <span class="token operator">=</span> <span class="token variable">$name2</span>
<span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">'两个字符串相等!'</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">'两个字符串不相等!'</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ol><li>Shell 流程控制</li></ol> <p>流程控制我们主要介绍if else， if else-if else和for循环。</p> <ul><li>if else</li></ul> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token keyword">if</span> 条件1
<span class="token keyword">then</span>
  命令操作1
<span class="token keyword">else</span>
  命令操作2
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>if else-if else</li></ul> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">1000</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">2000</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">==</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;a 等于 b&quot;</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -gt <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;a 大于 b&quot;</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -lt <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;a 小于 b&quot;</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;无&quot;</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ul><li>for 循环</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code># 一般格式
<span class="token keyword">for</span> <span class="token keyword">var</span> <span class="token keyword">in</span> a1 a2 <span class="token operator">...</span> aN
<span class="token keyword">do</span>
  命令<span class="token number">1</span>
  命令<span class="token number">2</span>
  <span class="token operator">...</span>
  命令<span class="token constant">N</span>
done
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>在了解完如上知识点后，我们来看看这些能做些什么。</p> <h3 id="_2-使用shell脚本自动将项目打包部署到git服务器"><a href="#_2-使用shell脚本自动将项目打包部署到git服务器" class="header-anchor">#</a> 2. 使用shell脚本自动将项目打包部署到git服务器</h3> <ol><li>一个git提交的例子</li></ol> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>
<span class="token function">git</span> commit -m <span class="token string">'xj--'</span><span class="token variable">$1</span>
<span class="token function">git</span> push

<span class="token comment"># 提交时只需要执行 bash git.sh '参数内容'即可完成提交操作</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>首先，我们在项目根目录下新建一个git.sh文件，输入以上脚本，保存，然后我们后面要提交代码时，只需要执行 bash git.sh '你的注释'，就可以将代码提交到服务器上了，是不是简化了我们提交的步骤呢</p> <ol><li>vue项目部署</li></ol> <p>我在<a href="https://juejin.im/post/5d1782eaf265da1ba91592fc" target="_blank" rel="noopener noreferrer">一张图教你快速玩转vue-cli3<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>这篇文章中教大家了如何独立配置项目，文章末尾有写到部署的方式，如下：</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/usr/bin/env sh</span>

<span class="token comment"># 当发生错误时中止脚本</span>
<span class="token builtin class-name">set</span> -e

<span class="token comment"># 构建</span>
<span class="token function">npm</span> run build

<span class="token comment"># cd 到构建输出的目录</span>
<span class="token builtin class-name">cd</span> dist

<span class="token function">git</span> init
<span class="token function">git</span> <span class="token function">add</span> -A
<span class="token function">git</span> commit -m <span class="token string">'deploy'</span>

<span class="token function">git</span> push -f git@bitbucket.org:<span class="token operator">&lt;</span>USERNAME<span class="token operator">&gt;</span>/<span class="token operator">&lt;</span>USERNAME<span class="token operator">&gt;</span>.bitbucket.io.git master

<span class="token builtin class-name">cd</span> -
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>在学完shell脚本后，是不是觉得豁然开朗了呢。如果有更复杂的需求，我们可以用同样的方式去部署。</p> <h3 id="_3-使用nodejs编写命令行工具"><a href="#_3-使用nodejs编写命令行工具" class="header-anchor">#</a> 3.使用nodeJs编写命令行工具</h3> <p>我们这里使用commander来搭建node命令行，接下来我会给出最基本的用法，下一篇文章将专门来给大家讲解如何搭建一个高可用的node命令行工具，在此之前，大家可以自由摸索，也许会有更好的方式。</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>// <span class="token number">1</span>.构建项目目录
<span class="token function">mkdir</span> xxx
<span class="token builtin class-name">cd</span> xxx
<span class="token function">npm</span> init

// <span class="token number">2</span>.安装commander模块
<span class="token function">npm</span> <span class="token function">install</span> commander --save

// <span class="token number">3</span>.新建bin/<span class="token punctuation">[</span>你自定义的命令行文件名<span class="token punctuation">]</span>
<span class="token comment">#!/usr/bin/env node</span>

var program <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'commander'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

program.version<span class="token punctuation">(</span><span class="token string">'0.0.1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

program
  .command<span class="token punctuation">(</span><span class="token string">'help'</span><span class="token punctuation">)</span>
  .description<span class="token punctuation">(</span><span class="token string">'显示使用帮助'</span><span class="token punctuation">)</span>
  .action<span class="token punctuation">(</span><span class="token function-name function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    program.outputHelp<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

program
  .command<span class="token punctuation">(</span><span class="token string">'create [dir]'</span><span class="token punctuation">)</span>
  .description<span class="token punctuation">(</span><span class="token string">'创建一个空博客'</span><span class="token punctuation">)</span>
  .action<span class="token punctuation">(</span>function<span class="token punctuation">(</span>dir<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console.log<span class="token punctuation">(</span><span class="token string">'create %s'</span>, <span class="token function">dir</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

program
  .command<span class="token punctuation">(</span><span class="token string">'preview [dir]'</span><span class="token punctuation">)</span>
  .description<span class="token punctuation">(</span><span class="token string">'实时预览'</span><span class="token punctuation">)</span>
  .action<span class="token punctuation">(</span>function<span class="token punctuation">(</span>dir<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console.log<span class="token punctuation">(</span><span class="token string">'preview %s'</span>, <span class="token function">dir</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

program
  .command<span class="token punctuation">(</span><span class="token string">'build [dir]'</span><span class="token punctuation">)</span>
  .description<span class="token punctuation">(</span><span class="token string">'生成整站静态HTML'</span><span class="token punctuation">)</span>
  .option<span class="token punctuation">(</span><span class="token string">'-o, --output &lt;dir&gt;'</span>, <span class="token string">'生成的静态HTML存放目录'</span><span class="token punctuation">)</span>
  .action<span class="token punctuation">(</span>function<span class="token punctuation">(</span>dir<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console.log<span class="token punctuation">(</span><span class="token string">'创建 %s, 输出 %s'</span>, dir, options.output<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

// 开始解析命令
program.parse<span class="token punctuation">(</span>process.argv<span class="token punctuation">)</span><span class="token punctuation">;</span>

// <span class="token number">4</span>.在package.json目录下执行关联操作
<span class="token function">npm</span> <span class="token function">link</span>

// <span class="token number">5</span>.测试,输入相关命令即可执行对应操作
xxx <span class="token builtin class-name">help</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/xn213/assets/js/app.d4906252.js" defer></script><script src="/xn213/assets/js/2.51fac5b8.js" defer></script><script src="/xn213/assets/js/28.deb79169.js" defer></script>
  </body>
</html>
